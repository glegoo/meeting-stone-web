# Meeting Stone Web — UX/UI 设计指南

> 本文档供 UI 设计师参考，结合现有微信小程序功能分析，指导 Web 版的交互设计与视觉规范。

---

## 1. 产品概述

### 1.1 产品定位

Meeting Stone（集合石）是一款面向全球 MMO 游戏玩家的**组队/开团协作工具**，核心场景：

- **团长（Owner）**：创建活动、管理报名、编排阵容、分配位置
- **团员（Participant）**：发现活动、报名参与、管理自己的报名状态
- **管理员（Assistant）**：协助团长管理活动

### 1.2 用户画像

| 角色 | 特征 | 核心需求 |
|------|------|----------|
| 硬核团长 | 每周组织多次活动，对效率要求高 | 快速创建活动、批量操作、AI排班 |
| 休闲团长 | 偶尔组织活动，需要引导 | 模板功能、简洁的创建流程 |
| 活跃团员 | 频繁找团、报名 | 快速搜索、一键报名 |
| 新手用户 | 首次使用，需要了解功能 | 清晰的引导、直观的界面 |

### 1.3 支持的游戏

MVP 阶段主要支持：
- **WoW Classic** (怀旧服各版本)
- **WoW Retail** (正式服)
- 未来扩展：FF14、其他 MMO

---

## 2. 品牌定位与命名建议

### 2.1 产品调性定义

这是一个从"工具属性"向"平台属性"转化的专业级产品。它不仅要承载复杂的数值统计（分数、装等），还要处理频繁的拖拽排班（Roster UI），因此 UI 的核心调性应该是：**硬核、高效、可靠、且具有沉浸感。**

### 2.2 命名方案与域名推荐

我们需要一个既保留"集合石"灵魂，又能在多游戏（FF14, WoW, Destiny 2等）间通用的名字。

| 建议名称 | 寓意 | 推荐域名 |
| --- | --- | --- |
| **Summon (召唤)** | 完美对应"集合石"功能，是 MMO 玩家的通用语言。 | `summon.gg` (首选), `getsummon.io` |
| **Raidy (开组)** | Raid 的形容词化，听起来轻快且专业，利于传播。 | `raidy.com`, `raidy.io` |
| **Lobby (大厅)** | 强调多游戏组队平台的定位，中性且专业。 | `lobby.sh`, `thelobby.gg` |
| **Keystone (基石)** | 取自大秘境核心道具，象征团队稳固。 | `keystone.app`, `keystone.gg` |

**最终推荐：`Summon.gg`**

**理由**：简单、有力，且 `.gg` 域名天然自带游戏基因，极其便于在 Discord、微信群和论坛中传播。

### 2.3 品牌 Slogan

> **Summon.gg: Organize your raids, like a pro.**
> *(Summon.gg: 像职业选手一样组织你的团队)*

---

## 3. 信息架构

### 3.1 核心导航结构

```
首页
├── 我的活动 (My Activities)
│   ├── 我创建的 (Created by me)
│   ├── 模板 (Templates)
│   └── 我参与的 (Joined)
├── 大厅 (Lobby) - 公开活动搜索
└── 联系人 (Contacts)
    ├── 关注的人 (Following)
    ├── 黑名单 (Blacklist)
    └── 我的管理员 (My Assistants)

活动详情页
├── 活动信息 (Header)
├── 报名列表 (按职业分组)
├── 阵容编排 (Lineup)
├── 活动日志 (Logs)
└── 报名入口

阵容编排页
├── 阵容卡片 (多车支持)
├── 拖拽排位区
├── 角色筛选面板
├── AI排班功能
└── 团队Buff统计
```

### 3.2 页面流程图

```
┌─────────────┐     ┌─────────────┐     ┌─────────────┐
│   首页      │────▶│ 活动详情    │────▶│ 阵容编排    │
│  (Tab导航)   │     │  (报名列表)  │     │ (拖拽/AI)   │
└─────────────┘     └─────────────┘     └─────────────┘
       │                   │
       ▼                   ▼
┌─────────────┐     ┌─────────────┐
│ 创建活动    │     │   报名      │
│  (表单弹窗)  │     │ (单人/批量) │
└─────────────┘     └─────────────┘
```

---

## 4. 核心页面设计规范

### 4.1 首页 — 我的活动

#### 4.1.1 布局结构

```
┌────────────────────────────────────────────┐
│  [我的活动]  [勇闯集合石]  [联系人]          │  ← 一级Tab
├────────────────────────────────────────────┤
│  [我创建的] [模板] [我参与的]               │  ← 二级Tab/Segmented
├────────────────────────────────────────────┤
│  [ ] 倒序排列    [ ] 显示过期    [+ 创建]  │  ← 工具栏
├────────────────────────────────────────────┤
│  ┌──────────────────────────────────────┐  │
│  │ 📢 公开中                            │  │
│  │ 周六 20:00 ICC25H 火法优先          │  │  ← 活动卡片
│  │ 🖥 克尔苏加德 (联盟) | 👤 18/25     │  │
│  │ 📊 88.5 | 🛡 498                    │  │
│  │ 📅 2025-01-15 20:00 截止            │  │
│  │                      [✏️] [🗑]      │  │
│  └──────────────────────────────────────┘  │
│  ┌──────────────────────────────────────┐  │
│  │ 🔒 禁转发                            │  │
│  │ ...                                  │  │
│  └──────────────────────────────────────┘  │
└────────────────────────────────────────────┘
```

#### 4.1.2 活动卡片设计要点

**必须显示的信息**：
- **状态标签**：公开中 / 报名中 / 禁转发 / 已过期（不同颜色区分）
- **标题**：活动名称（支持截断省略）
- **服务器与阵营**：带阵营图标（联盟蓝/部落红）
- **人数**：当前人数/总人数
- **平均分数**：WCL AllStar 分数（带颜色编码：橙/紫/蓝/绿/灰）
- **平均装等**：装备等级
- **截止时间**：日期 + 时间 + "截止"

**操作按钮**：
- 编辑（仅创建者可见）
- 删除（仅创建者可见，需二次确认）

**交互行为**：
- 点击卡片 → 进入活动详情
- 长按/右键 → 显示快捷菜单（编辑、删除、复制链接、分享）

#### 4.1.3 模板卡片设计

模板卡片与活动卡片类似，但：
- 无截止时间
- 显示"子活动数量"（如：3个子活动）
- 显示可见性设置（公开/禁转发）

### 4.2 首页 — 大厅（公开活动搜索）

#### 4.2.1 布局结构

```
┌────────────────────────────────────────────┐
│  [🔍 查找活动]                              │  ← 搜索入口按钮
├────────────────────────────────────────────┤
│  ┌──────────────────────────────────────┐  │
│  │ 活动列表...                          │  │
│  │ (与"我的活动"卡片样式一致)            │  │
│  └──────────────────────────────────────┘  │
│  [加载更多...]                             │
└────────────────────────────────────────────┘
```

#### 4.2.2 搜索筛选弹窗

```
┌────────────────────────────────────────────┐
│                 查找活动                    │
├────────────────────────────────────────────┤
│  服务器：[        输入服务器...        ▼]  │
│  阵营：  [ 联盟 ] [ 部落 ]                 │
├────────────────────────────────────────────┤
│  关键词：[                              ]  │
├────────────────────────────────────────────┤
│  活动日期：[选择日期...] 或 不限制日期     │
├────────────────────────────────────────────┤
│  团队规模：[ 10 ] [ 25 ] [ 40 ]           │
├────────────────────────────────────────────┤
│         [取消]  [重置]  [确定]             │
└────────────────────────────────────────────┘
```

**设计要点**：
- 服务器输入支持模糊搜索自动补全
- 记住用户上次的搜索条件
- "不限制日期"作为默认选项

### 4.3 首页 — 联系人

#### 4.3.1 三个子Tab

```
┌────────────────────────────────────────────┐
│  [关注的人]  [黑名单]  [我的管理员]         │
├────────────────────────────────────────────┤
│  ┌─────────────────────────────────────┐   │
│  │ 👤 用户头像   用户昵称              │   │
│  │              [取消关注] [拉黑]      │   │
│  └─────────────────────────────────────┘   │
└────────────────────────────────────────────┘
```

#### 4.3.2 管理员邀请（Web特有功能）

```
┌────────────────────────────────────────────┐
│  [+ 邀请管理员]                            │
├────────────────────────────────────────────┤
│  生成邀请链接：                            │
│  [https://meeting-stone.com/invite/xxxx]   │
│                           [📋 复制]        │
│  有效期：[ 24小时 ▼]                       │
└────────────────────────────────────────────┘
```

---

### 4.4 活动详情页

#### 4.4.1 整体布局

```
┌────────────────────────────────────────────┐
│  ┌──────────────────────────────────────┐  │
│  │         活动头部信息                  │  │
│  │  标题 / 团长信息 / 统计数据          │  │
│  └──────────────────────────────────────┘  │
├────────────────────────────────────────────┤
│  [详情] [限制] [阵容] [更多▼]   [+ 报名]  │  ← 操作栏
├────────────────────────────────────────────┤
│  ┌────┐ ┌─────────────────────────────┐   │
│  │ 我的│ │  角色名    装等   分数      │   │  ← 左侧导航
│  │ 5   │ │  --------------------------------   │
│  ├────┤ │  [职责图标] 玩家名           │   │
│  │战士 │ │    👤 用户名                │   │
│  │ 3   │ │    💬 备注内容              │   │
│  ├────┤ │                   [98.5][502]│   │
│  │圣骑 │ └─────────────────────────────┘   │
│  │ 4   │                                   │
│  └────┘                                    │
└────────────────────────────────────────────┘
```

#### 4.4.2 活动头部信息

**必须显示**：
- 活动标题
- 团长头像 + 昵称
- 统计信息：
  - 🛡 坦克数量
  - 💚 治疗数量
  - ⚔️ 输出数量
  - 👤 已报名 / 请假
  - 📊 平均分数（带颜色）
  - 🛡 平均装等
- 截止时间与状态

**联系方式展示**（仅公开活动且团长开启时）：
- 微信号 / 战网ID

#### 4.4.3 报名列表 — 左右联动滚动

**左侧导航**：
- 按职业分组（战士、圣骑士、猎人...）
- 显示每个分组的人数
- 颜色与职业颜色一致
- "我的"分组置顶

**右侧列表**：
- 点击左侧职业 → 右侧滚动到对应分组
- 右侧滚动 → 左侧高亮对应分组

**角色卡片信息**：
- 职责图标（坦克/治疗/输出）
- 角色名（职业颜色）
- 天赋图标（支持双天赋显示）
- 用户昵称
- 备注内容
- WCL分数（颜色编码）
- 装备等级
- 状态标签：请假(假)、指定车队(1/2/3)

**角色卡片交互**：
- 点击 → 打开角色详情弹窗

#### 4.4.4 角色详情弹窗

```
┌────────────────────────────────────────────┐
│                 角色详情                    │
├────────────────────────────────────────────┤
│  [职责] 角色名                 [天赋图标]  │
│         [请假标签]              分数 装等   │
├────────────────────────────────────────────┤
│  👤 用户昵称                               │
│  💬 备注内容                               │
│  📱 联系方式 (仅管理员可见)                │
├────────────────────────────────────────────┤
│  [角色详情] [请假/取消请假] [取消报名]     │  ← 自己的角色
│  [角色详情] [黑名单] [移除报名]            │  ← 他人的角色(管理员)
└────────────────────────────────────────────┘
```

#### 4.4.5 人员限制弹窗

```
┌────────────────────────────────────────────┐
│                 人员限制                    │
├────────────────────────────────────────────┤
│  [👤] 全员         18 / 25    ← 绿色(未满) │
│  [🛡] 坦克          2 / 2     ← 红色(已满) │
│  [💚] 治疗          5 / 6     ← 绿色       │
│  [⚔️] 输出         11 / 17    ← 绿色       │
│  [战士图标] 战士    3 / 5     ← 职业颜色   │
│  [惩戒图标] 惩戒骑  2 / 禁止  ← 禁止=红色  │
└────────────────────────────────────────────┘
```

---

### 4.5 报名弹窗

#### 4.5.1 单角色报名

```
┌────────────────────────────────────────────┐
│  [ 角色报名 ] [ 批量报名 ]                  │  ← Tab切换
├────────────────────────────────────────────┤
│  角色              [自定义报名: 开关]      │
├────────────────────────────────────────────┤
│  ┌──────────────────────────────────────┐  │
│  │ ➕ 选择一名角色                       │  │  ← 点击打开角色选择
│  └──────────────────────────────────────┘  │
│                     或                      │
│  ┌──────────────────────────────────────┐  │
│  │ 🛡 角色名  服务器-阵营              │  │
│  │    [天赋图标] 分数: 95.2            │  │
│  └──────────────────────────────────────┘  │
├────────────────────────────────────────────┤
│  天赋        [双修: 开关]                  │
│  [ 防护 ] [ 武器 ] [ 狂暴 ]                │  ← Radio选择
├────────────────────────────────────────────┤
│  指定活动 (默认可参加任意活动)             │
│  [ ] 周六 ICC25H                           │
│  [ ] 周日 ICC10H                           │
├────────────────────────────────────────────┤
│  备注                                       │
│  [                                       ] │
├────────────────────────────────────────────┤
│  显示联系方式(仅团长可见)  [开关]          │
│    微信: [          ]                      │
│    战网: [          ]                      │
├────────────────────────────────────────────┤
│              [取消]  [确定]                │
└────────────────────────────────────────────┘
```

#### 4.5.2 自定义报名（开启时）

```
│  角色名：[                              ]  │
│  职业：  [选择职业 ▼]                      │
│  天赋：  [ 防护 ] [ 武器 ] [ 狂暴 ]        │
```

#### 4.5.3 批量报名

```
┌────────────────────────────────────────────┐
│  [ 角色报名 ] [ 批量报名 ]                  │
├────────────────────────────────────────────┤
│  报名组                                     │
│  ┌──────────────────────────────────────┐  │
│  │ ➕ 选择报名组                         │  │
│  └──────────────────────────────────────┘  │
│                     或                      │
│  ┌──────────────────────────────────────┐  │
│  │ 我的固定团队 (5人)                    │  │
│  │ 战士-防护 / 圣骑-神圣 / 法师-火焰 ...│  │
│  └──────────────────────────────────────┘  │
├────────────────────────────────────────────┤
│  （其余选项同单角色报名）                   │
└────────────────────────────────────────────┘
```

#### 4.5.4 报名组管理弹窗

```
┌────────────────────────────────────────────┐
│                 选择报名组                  │
├────────────────────────────────────────────┤
│  ┌──────────────────────────────────────┐  │
│  │ ○ 我的固定团队 (5人)       [✏️][🗑]  │  │
│  │   战士-防护 / 圣骑-神圣 / ...        │  │
│  └──────────────────────────────────────┘  │
│  ┌──────────────────────────────────────┐  │
│  │ ● 开荒小队 (3人)           [✏️][🗑]  │  │  ← 选中状态
│  │   DK-鲜血 / 牧师-暗影 / ...          │  │
│  └──────────────────────────────────────┘  │
├────────────────────────────────────────────┤
│  [+ 创建新报名组]                          │
└────────────────────────────────────────────┘
```

---

### 4.6 阵容编排页

#### 4.6.1 整体布局

```
┌────────────────────────────────────────────┐
│  ┌──────────────────────────────────────┐  │
│  │         活动头部信息 (简化版)         │  │
│  └──────────────────────────────────────┘  │
├────────────────────────────────────────────┤
│  [显示昵称: 开关]  [🌈AI排班]  [👁浏览/✏️编辑] [💾保存] │
├────────────────────────────────────────────┤
│  ┌──────────────────────────────────────┐  │
│  │ 第1车  名称: [周六ICC25H          ]  │  │
│  │ [🗑清空] [📋MRT名单]                 │  │
│  │─────────────────────────────────────│  │
│  │ 🛡2 💚5 ⚔️18  📊 92.3  🛡 495      │  │  ← 统计信息
│  │─────────────────────────────────────│  │
│  │ [团队Buff 8/12 ▼]                   │  │  ← 可折叠
│  │─────────────────────────────────────│  │
│  │ ┌───┬───┬───┬───┬───┐              │  │
│  │ │1-1│1-2│1-3│1-4│1-5│              │  │  ← 5x5 格子
│  │ ├───┼───┼───┼───┼───┤              │  │
│  │ │🛡 │🛡 │💚 │💚 │💚 │              │  │
│  │ │角色│角色│角色│角色│角色│              │  │
│  │ │92.1│88.3│95.0│91.2│89.5│              │  │
│  │ ├───┼───┼───┼───┼───┤              │  │
│  │ │...│...│...│...│...│              │  │
│  │ └───┴───┴───┴───┴───┘              │  │
│  │ ⚠️ 角色A、角色B 为同一用户报名        │  │  ← 警告提示
│  └──────────────────────────────────────┘  │
│                                            │
│  ┌──────────────────────────────────────┐  │
│  │ 第2车 ...                            │  │
│  └──────────────────────────────────────┘  │
│                                            │
│  [+ 添加阵容]                              │
└────────────────────────────────────────────┘
```

#### 4.6.2 角色格子设计

**格子信息**：
- 位置编号（如 1-1、1-2）
- 职责图标
- 天赋图标（主天赋 + 副天赋小图标）
- 角色名（职业颜色边框）
- WCL分数（颜色编码）
- 装备等级

**状态样式**：
- 正常：职业颜色渐变背景
- 重复用户：红色虚线边框 + 警告图标
- 未指定本车：黄色虚线边框

**交互行为**（编辑模式）：
- 点击空格子 → 打开角色选择面板
- 点击有人的格子 → 打开角色选择面板（替换）
- 拖拽角色 → 移动位置 / 交换位置
- 拖拽到删除区 → 移除角色

#### 4.6.3 角色选择面板（底部弹出）

```
┌────────────────────────────────────────────┐
│  [全部] [🛡] [💚] [⚔️]                     │  ← 职责筛选
│  [战士] [圣骑] [猎人] ... [DK]             │  ← 职业筛选
│  [可选角色] [指定本车角色] [未指定本车角色]  │  ← 适配筛选
├────────────────────────────────────────────┤
│  ┌────┐ ┌────┐ ┌────┐ ┌────┐ ┌────┐      │
│  │ 角色│ │ 角色│ │ 角色│ │ 角色│ │ 角色│      │
│  │ 卡片│ │ 卡片│ │ 卡片│ │ 卡片│ │ 卡片│      │
│  └────┘ └────┘ └────┘ └────┘ └────┘      │
│  （滚动查看更多）                           │
└────────────────────────────────────────────┘
```

**角色卡片（选择面板中）**：
- 职责图标 + 天赋图标
- 角色名
- 分数 + 装等
- 重复用户标记（已在阵容中）

#### 4.6.4 AI排班弹窗

```
┌────────────────────────────────────────────┐
│              阵容模板编辑                   │
├────────────────────────────────────────────┤
│  * 每个位置可指定：任意/职责/职业/天赋/空位 │
│  * AI排班不会修改已保存的阵容              │
│  * AI排班结果不会自动保存                  │
├────────────────────────────────────────────┤
│  ┌────┬────┬────┬────┬────┐               │
│  │1-1 │1-2 │1-3 │1-4 │1-5 │               │
│  │坦克│坦克│治疗│治疗│治疗│               │  ← 可点击修改
│  ├────┼────┼────┼────┼────┤               │
│  │远程│远程│远程│远程│远程│               │
│  │元素│暗牧│法师│任意│任意│               │
│  ├────┼────┼────┼────┼────┤               │
│  │...│...│...│...│...│               │
│  └────┴────┴────┴────┴────┘               │
├────────────────────────────────────────────┤
│           [💾保存模板]  [🌈AI排班]         │
└────────────────────────────────────────────┘
```

#### 4.6.5 团队Buff展示

```
┌────────────────────────────────────────────┐
│  团队Buff (8/12)                    [▼]    │
├────────────────────────────────────────────┤
│  ✅ 战斗怒吼  ✅ 力量图腾  ✅ 英勇气概     │
│  ✅ 暗影庇护  ❌ 神圣之灵  ❌ 法力之泉     │
│  ...                                       │
└────────────────────────────────────────────┘
```

- ✅ 已激活（绿色/亮色）
- ❌ 未激活（灰色）+ 点击可筛选能提供此Buff的角色

---

### 4.7 创建/编辑活动弹窗

#### 4.7.1 完整表单

```
┌────────────────────────────────────────────┐
│              创建活动 / 编辑活动            │
├────────────────────────────────────────────┤
│  标题                                       │
│  [📅] [01月15日 周六 ICC25H开荒          ] │
│        ↑ 点击插入日期                       │
├────────────────────────────────────────────┤
│  团队规模                                   │
│  [ 10 ] [ 25 ] [ 40 ]                      │
├────────────────────────────────────────────┤
│  截止日期    [2025-01-15]     点击选择     │
│  截止时间    [20:00]                       │
├────────────────────────────────────────────┤
│  人员限制                            [+ 添加]│
│  ┌──────────────────────────────────────┐  │
│  │ [全员 ▼] [Any ▼]  人数: [25    ] [🗑] │  │
│  │ [坦克 ▼] [Any ▼]  人数: [2     ] [🗑] │  │
│  │ [圣骑 ▼] [惩戒▼]  人数: [禁止  ] [🗑] │  │
│  └──────────────────────────────────────┘  │
├────────────────────────────────────────────┤
│  子活动                              [+ 添加]│
│  ┌──────────────────────────────────────┐  │
│  │ [周六▼] [20:00▼] [ICC25H上层    ] [🗑]│  │
│  │ [周日▼] [20:00▼] [ICC25H下层    ] [🗑]│  │
│  └──────────────────────────────────────┘  │
├────────────────────────────────────────────┤
│  详细信息                                   │
│  ┌──────────────────────────────────────┐  │
│  │ 请准备好合剂、食物、附魔...          │  │
│  │                                      │  │
│  └──────────────────────────────────────┘  │
│  * 请勿发布工作室广告等信息                 │
├────────────────────────────────────────────┤
│  仅限团长转发（Web升级为访问控制）          │
│  [开启访问码]  [开关]                       │
│     访问码: [随机生成] [🔄重置]            │
│  [生成邀请链接]  [管理邀请链接...]          │
├────────────────────────────────────────────┤
│  发布到大厅                                 │
│  [开关]                                    │
├────────────────────────────────────────────┤
│  指定服务器                                 │
│  [开关]                                    │
│     服务器: [           ▼]                 │
│     阵营:   [ 联盟 ] [ 部落 ]              │
├────────────────────────────────────────────┤
│  公开联系方式                               │
│  [开关]                                    │
│     微信: [          ]                     │
│     战网: [          ]                     │
├────────────────────────────────────────────┤
│     [取消]  [导入模板]  [确定]             │
└────────────────────────────────────────────┘
```

---

## 4. 设计系统

### 4.1 UI 设计调性

**设计风格**：**Modern Dark Gaming (现代深色游戏风)**

- **视觉隐喻**：采用"控制面板"般的精密感，利用 Shadcn 的高对比度系统，减少装饰，突出数据
- **交互核心**：由于有大量"拖拽排位"操作，背景需保持极简，通过高亮的 **Accent Color** 引导用户视觉流
- **用户体验目标**：专业、高效、可靠、沉浸

### 4.2 基于 Shadcn 的主题色设计

我们采用 **"Ethereal Midnight" (幻境午夜)** 主题。主色调选用代表"史诗/魔法"的紫色，辅以代表"科技/协作"的青色。

#### 4.2.1 核心配色方案 (Tailwind/Shadcn 变量)

```css
:root {
  /* 基础背景：深邃的极夜色，减少长时间看屏幕的疲劳 */
  --background: 240 10% 3.9%;
  --foreground: 0 0% 98%;

  /* 卡片与容器：略带灰度的深蓝色，增强层级感 */
  --card: 240 10% 6%;
  --card-foreground: 0 0% 98%;

  /* 主色 (Primary)：史诗紫 (Epic Purple) —— 象征集合石的魔法能量 */
  /* 对应类名：bg-primary */
  --primary: 263.4 70% 50.4%;
  --primary-foreground: 210 40% 98%;

  /* 辅助色 (Secondary)：冷青色 (Tech Cyan) —— 用于 AI 排班、数据统计 */
  --secondary: 180 70% 45%;
  --secondary-foreground: 222.2 47.4% 11.2%;

  /* 强调色 (Accent)：用于 hover 态和高亮提示 */
  --accent: 263.4 40% 15%;
  --accent-foreground: 210 40% 98%;

  /* 状态色：严格遵守游戏逻辑 */
  --destructive: 0 62.8% 30.6%; /* 错误/删除 */
  --success: 142.1 70.6% 45.3%; /* 满员/已保存 */
  --warning: 35 92% 50%;       /* 未指定本车/警示 */

  /* 圆角：采用 0.5rem (md)，平衡硬核感与现代感 */
  --radius: 0.5rem;
}
```

#### 4.2.2 装备品质色（用于分数系统）

分数系统颜色不走主题色，走"装备品质色"，这符合玩家直觉：

| 分数范围 | 颜色代码 | 品质等级 |
|----------|----------|----------|
| 100 | `#e5cc80` | 金色（完美） |
| 99-95 | `#ff8000` | 橙色（传说） |
| 94-75 | `#a335ee` | 紫色（史诗） |
| 74-50 | `#0070ff` | 蓝色（稀有） |
| 49-25 | `#1eff00` | 绿色（优秀） |
| <25 | `#727272` | 灰色（普通） |

#### 4.2.3 职业颜色（WoW）

```css
/* WoW 职业颜色 */
--warrior: #C69B6D;    /* 战士 */
--paladin: #F48CBA;    /* 圣骑士 */
--hunter: #AAD372;     /* 猎人 */
--rogue: #FFF468;      /* 潜行者 */
--priest: #FFFFFF;     /* 牧师 */
--shaman: #0070DD;     /* 萨满 */
--mage: #3FC7EB;       /* 法师 */
--warlock: #8788EE;    /* 术士 */
--druid: #FF7C0A;      /* 德鲁伊 */
--deathknight: #C41E3A; /* 死亡骑士 */
```

### 4.3 UI 关键组件视觉策略

#### 4.3.1 Roster 排班网格 (Grid Layout)

**设计**：
- 使用 `dashed` 边框表示空位，`solid` 边框表示已锁定
- 每个格子展示：位置编号、职责图标、天赋图标、角色名、分数、装等
- 格子颜色：使用职业颜色渐变背景

**交互**：
- 当拖拽角色时，目标空位应有 `bg-primary/20` 的呼吸灯闪烁
- 拖拽开始：轻微震动（移动端）+ 放大 1.05
- 拖拽悬停：目标位置高亮

**状态样式**：
- **正常**：职业颜色渐变背景
- **重复用户**：红色虚线边框 + 警告图标
- **未指定本车**：黄色虚线边框

**多维信息展示**：
- 利用 Shadcn 的 `Badge` 组件展示职责（T/H/D）
- 颜色直接映射 WoW 职业色

#### 4.3.2 角色状态展示 (Character Row)

**分数系统**：
- 分数颜色使用装备品质色（见 4.2.2）
- 直接引用 PRD 7.5 条款的分数计算规则

**紧凑模式**：
- 在阵容编排页提供"紧凑/舒适"切换
- 紧凑模式下仅显示"职业图标+名字+分数"
- 舒适模式显示完整信息

**角色卡片信息层级**：
1. **主要信息**：职业图标、角色名、职责
2. **次要信息**：天赋、分数、装等
3. **辅助信息**：用户昵称、备注、联系方式

#### 4.3.3 访问控制 (Access Control)

**视觉引导**：
- 非公开活动在标题旁加一个 `Lock` 图标
- 输入访问码的弹窗使用 `backdrop-blur-sm` (毛玻璃效果)，营造安全感
- 访问码输入框使用等宽字体，便于识别

**状态反馈**：
- 验证成功：绿色 ✓ + 平滑过渡到活动页面
- 验证失败：红色抖动动画 + 错误提示

---

## 5. 通用组件规范

### 5.1 按钮样式

基于 Shadcn 的按钮变体，结合游戏风格：

| 类型 | 用途 | 样式 | Shadcn 类名 |
|------|------|------|------------|
| Primary | 主要操作（确定、保存） | 史诗紫渐变（主题色） | `bg-primary` |
| Secondary | 辅助操作（AI排班） | 冷青色（辅助色） | `bg-secondary` |
| Success | 积极操作（创建、添加） | 绿色渐变 #3bb449 → #1a4f20 | `bg-success` |
| Destructive | 危险操作（删除、移除） | 红色 | `bg-destructive` |
| Warning | 警告操作 | 黄色 #f5d442 → #8b7a00 | `bg-warning` |
| Ghost | 次要操作 | 透明背景 + 边框 | `variant="ghost"` |
| Outline | 边框按钮 | 透明背景 + 主题色边框 | `variant="outline"` |

**特殊按钮**：
- **Rainbow**（AI排班专用）：彩虹渐变动画，使用 `background: linear-gradient(45deg, #ff6b6b, #4ecdc4, #45b7d1, #f9ca24, #f0932b)`

### 5.2 卡片样式

基于 Shadcn Card 组件，应用深色主题：

```css
.card {
  background: hsl(var(--card));
  border: 1px solid hsl(var(--border));
  border-radius: var(--radius);
  box-shadow: 0 0 20px rgba(0, 0, 0, 0.5);
}

/* 活动卡片特殊样式 */
.activity-card {
  background: linear-gradient(180deg, #1e1e1e 0%, #101010 91%);
  border: 1px solid #2e2e2e;
  border-radius: 8px;
  box-shadow: 0 0 20px rgb(20, 20, 20);
  backdrop-filter: blur(8px);
}
```

### 5.3 状态标签

使用 Shadcn Badge 组件：

| 状态 | 颜色 | 图标 | 类名 |
|------|------|------|------|
| 公开中 | 绿色 #42c06a | volume-plus | `variant="success"` |
| 报名中 | 蓝色（主题色） | lightning-bolt | `variant="default"` |
| 禁转发 | 黄色 #f5d442 | lock | `variant="warning"` |
| 已过期 | 灰色 #727272 | blocked | `variant="secondary"` |
| 请假 | 橙色 | 假 | `variant="warning"` |

### 5.4 职业颜色（保持兼容性）

> **注意**：职业颜色已在 4.2.3 中定义，此处保留以兼容旧版参考。

### 5.5 分数颜色编码（保持兼容性）

> **注意**：分数颜色已在 4.2.2 中定义，此处保留以兼容旧版参考。

---

## 6. 响应式设计

### 6.1 断点定义

| 断点 | 宽度 | 场景 |
|------|------|------|
| Mobile | < 768px | 手机竖屏 |
| Tablet | 768px - 1024px | 平板 / 手机横屏 |
| Desktop | > 1024px | 桌面浏览器 |

### 6.2 布局适配

**Mobile**：
- 单列布局
- Tab使用底部导航
- 弹窗全屏显示
- 阵容格子宽度自适应

**Tablet**：
- 活动列表双列
- 侧边栏可折叠
- 弹窗居中显示

**Desktop**：
- 活动列表三列或更多
- 常驻侧边栏
- 阵容页支持更大的拖拽区域

---

## 7. Web 特有功能设计

### 7.1 访问控制

#### 7.1.1 访问码输入页

当用户访问需要访问码的活动时：

```
┌────────────────────────────────────────────┐
│                                            │
│              🔒 需要访问码                  │
│                                            │
│  该活动需要访问码才能查看                   │
│                                            │
│  访问码: [                              ]  │
│                                            │
│           [验证并进入]                      │
│                                            │
│  ─────────────────────────────────────     │
│  没有访问码？联系活动创建者获取。           │
│                                            │
└────────────────────────────────────────────┘
```

#### 7.1.2 邀请链接管理

```
┌────────────────────────────────────────────┐
│              邀请链接管理                   │
├────────────────────────────────────────────┤
│  [+ 生成新链接]                            │
├────────────────────────────────────────────┤
│  ┌──────────────────────────────────────┐  │
│  │ 📎 公会内部链接                       │  │
│  │    https://...                        │  │
│  │    有效期: 2025-01-20                 │  │
│  │    使用次数: 15次                     │  │
│  │                   [📋复制] [🗑撤销]   │  │
│  └──────────────────────────────────────┘  │
│  ┌──────────────────────────────────────┐  │
│  │ 📎 朋友分享                           │  │
│  │    https://...                        │  │
│  │    已过期                             │  │
│  └──────────────────────────────────────┘  │
└────────────────────────────────────────────┘
```

### 7.2 通知设置

```
┌────────────────────────────────────────────┐
│              通知设置                       │
├────────────────────────────────────────────┤
│  接收邮件通知                               │
│  [开关]                                    │
├────────────────────────────────────────────┤
│  通知类型                                   │
│  [ ] 活动截止提醒 (提前24小时)             │
│  [ ] 管理员邀请                            │
│  [ ] 报名状态变更                          │
│  [ ] 活动信息变更                          │
├────────────────────────────────────────────┤
│  语言：[中文 ▼]                            │
│  时区：[Asia/Shanghai ▼]                   │
└────────────────────────────────────────────┘
```

---

## 8. 多游戏适配

### 8.1 游戏选择器

首次使用时需要选择游戏：

```
┌────────────────────────────────────────────┐
│              选择游戏                       │
├────────────────────────────────────────────┤
│  ┌──────────┐  ┌──────────┐  ┌──────────┐ │
│  │  [WoW]   │  │  [WoW]   │  │  [FF14]  │ │
│  │ Classic  │  │ Retail   │  │  (Soon)  │ │
│  └──────────┘  └──────────┘  └──────────┘ │
└────────────────────────────────────────────┘
```

### 8.2 Manifest 驱动的 UI

不同游戏的 UI 差异由后端 Manifest 驱动：

| 配置项 | WoW | FF14 |
|--------|-----|------|
| 职责 | 坦克/治疗/输出 | 坦克/治疗/近战DPS/远程DPS |
| 职业 | 战士、圣骑... | 骑士、武僧... |
| 天赋/职能 | 防护、武器... | 无天赋系统 |
| 服务器/DC | 地区+服务器 | 数据中心+服务器 |
| 阵营 | 联盟/部落 | 无阵营 |
| 团队规模 | 10/25/40 | 4/8/24 |
| 分数来源 | WCL | FFLogs |

---

## 9. 无障碍设计

### 9.1 键盘导航

- Tab 键可按顺序导航所有交互元素
- Enter 键触发按钮点击
- Esc 键关闭弹窗
- 方向键在阵容格子间移动

### 9.2 屏幕阅读器

- 所有图标需要 `aria-label`
- 状态变化需要 `aria-live` 区域通知
- 表单字段需要关联 `<label>`

### 9.3 颜色对比度

- 确保文字与背景对比度 ≥ 4.5:1
- 不仅依赖颜色传达信息（辅以图标/文字）

---

## 10. 加载与错误状态

### 10.1 加载状态

```
┌────────────────────────────────────────────┐
│                                            │
│              ⏳ 加载中...                   │
│                                            │
└────────────────────────────────────────────┘
```

### 10.2 空状态

```
┌────────────────────────────────────────────┐
│                                            │
│              📭 暂无活动                    │
│                                            │
│        创建第一个活动开始组队吧！           │
│              [+ 创建活动]                   │
│                                            │
└────────────────────────────────────────────┘
```

### 10.3 错误状态

```
┌────────────────────────────────────────────┐
│                                            │
│              ❌ 加载失败                    │
│                                            │
│            网络连接出现问题                 │
│               [🔄 重试]                    │
│                                            │
└────────────────────────────────────────────┘
```

---

## 11. 动效与反馈

### 11.1 过渡动画

| 场景 | 动画 | 时长 |
|------|------|------|
| 页面切换 | 淡入淡出 | 200ms |
| 弹窗打开 | 从下滑入 | 300ms |
| 卡片展开 | 高度过渡 | 200ms |
| 拖拽移动 | 跟随手指 | 实时 |

### 11.2 交互反馈

| 场景 | 反馈 |
|------|------|
| 按钮点击 | 缩放 0.95 + 颜色加深 |
| 拖拽开始 | 轻微震动（移动端）+ 放大 1.05 |
| 拖拽悬停 | 目标位置高亮 + `bg-primary/20` 呼吸灯 |
| 操作成功 | Toast 提示 + 绿色 ✓ + 平滑过渡 |
| 操作失败 | Toast 提示 + 红色 ✗ + 抖动动画 |
| 访问码验证成功 | 绿色 ✓ + 平滑过渡到活动页面 |
| 访问码验证失败 | 红色抖动动画 + 错误提示 |

---

## 附录 A：图标资源

建议使用以下图标库：
- **Lucide Icons**：通用图标
- **游戏官方资源**：职业/天赋/物品图标

WoW 图标 CDN：
```
https://assets.rpglogs.cn/img/warcraft/icons/{ClassName}-{SpecName}.jpg
https://assets.rpglogs.cn/img/warcraft/icons/{IconName}.jpg
```

---

## 附录 B：参考资源

- 小程序源码：`wcl-mp-client/src/pkgMeetingStone/`
- 产品需求文档：`docs/01_PRD.md`
- 技术架构：`docs/02_ARCHITECTURE.md`
- API 设计：`docs/03_API.md`

---

## 附录 C：下一步建议

既然已经确定了 PRD 和 UI 调性，建议下一步输出：

1. **核心页面的 Shadcn 组件结构预览**
   - 特别是"拖拽排班"与"AI 自动填充"的 UI 布局
   - 使用 React + Next.js + Shadcn 实现

2. **原型设计**
   - 基于 Figma 或类似工具
   - 应用 Ethereal Midnight 主题
   - 包含关键交互流程

3. **技术选型验证**
   - 拖拽库选择（react-dnd / dnd-kit）
   - 状态管理方案（Zustand / Jotai）
   - 实时协作技术（WebSocket / Server-Sent Events）

---

*文档版本：v2.0*
*更新日期：2026-01-13*
*主要变更：*
- *新增品牌定位与命名建议（Summon.gg）*
- *新增设计系统章节（Ethereal Midnight 主题）*
- *新增基于 Shadcn 的详细配色方案*
- *新增 UI 关键组件视觉策略*
- *完善交互反馈规范*
